# Run docem in a container
#
# docker run -it \
#           --name=docem \
#           -v {host-dir-docem-result}:/home/docem/tmp \
#           defnode/docem

FROM python:3-alpine

LABEL maintainer "Yurii Sanin <hello@defnode.com>"

WORKDIR /home
RUN apk add git
RUN git clone https://github.com/whitel1st/docem.git

WORKDIR /home/docem

RUN apk add libxml2 libxslt libxml2-dev libxslt-dev
RUN apk add gcc libc-dev

RUN pip install --upgrade pip
RUN pip install --no-cache-dir -r requirements.txt

RUN mkdir ./tmp

ENTRYPOINT ["python", "docem.py"]
CMD [ "--help" ]